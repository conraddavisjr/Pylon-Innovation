!function(a){"use strict";function b(a,b){var c=!0;return function(d){c&&(c=!1,setTimeout(function(){c=!0},b),a(d))}}function c(){d()}function d(){u.addEventListener("click",function(){e(items[x])}),w.addEventListener("click",f),navRightCtrl.addEventListener("click",function(){h("right")}),navLeftCtrl.addEventListener("click",function(){h("left")}),a.addEventListener("resize",b(function(b){q={width:a.innerWidth,height:a.innerHeight},items.forEach(function(a,b){if(b!==x){var c=a.querySelector(".slide__mover");dynamics.css(c,{translateX:c.offsetWidth})}})},10)),document.addEventListener("keydown",function(a){if(!y){var b=a.keyCode||a.which;switch(b){case 37:h("left");break;case 39:h("right")}}})}function e(a){if(!y){y=!0;var b=a.querySelector(".zoomer");classie.add(b,"zoomer--active"),s.addEventListener("scroll",i),g(b),A&&dynamics.animate(l,{scale:A},{type:dynamics.easeInOut,duration:500}),p(b,function(){A&&(dynamics.stop(l),dynamics.css(l,{scale:1}),l.style.WebkitTransform="none",l.style.transform="none"),classie.add(l,"noscroll"),classie.add(v,"content--open");var c=document.getElementById(a.getAttribute("data-content"));classie.add(c,"content__item--current"),classie.add(c,"content__item--reset"),classie.add(b,"zoomer--notrans"),b.style.WebkitTransform="translate3d(0,0,0) scale3d(1,1,1)",b.style.transform="translate3d(0,0,0) scale3d(1,1,1)"})}}function f(){var a=v.querySelector(".content__item--current"),b=items[x].querySelector(".zoomer");classie.remove(v,"content--open"),classie.remove(a,"content__item--current"),classie.remove(l,"noscroll"),A&&(l.style.WebkitTransform="",l.style.transform="");var c=!0;g(b,c),p(a,function(a){classie.remove(this,"content__item--reset"),r=!1,s.removeEventListener("scroll",i),b.style.WebkitTransform="translate3d(0,0,0) scale3d(1,1,1)",b.style.transform="translate3d(0,0,0) scale3d(1,1,1)",g(b),setTimeout(function(){classie.remove(b,"zoomer--notrans"),classie.remove(b,"zoomer--active"),b.style.WebkitTransform="translate3d(0,0,0) scale3d(1,1,1)",b.style.transform="translate3d(0,0,0) scale3d(1,1,1)"},25),A&&(dynamics.css(l,{scale:A}),dynamics.animate(l,{scale:1},{type:dynamics.easeInOut,duration:500})),y=!1})}function g(a,b){var c=a.querySelector(".zoomer__area"),d={width:c.offsetWidth,height:c.offsetHeight},e=c.getBoundingClientRect(),f=d.width/d.height<q.width/q.height?q.width/d.width:q.height/d.height;A&&!b&&(f/=A),a.style.WebkitTransform="translate3d("+Number(q.width/2-(e.left+d.width/2))+"px,"+Number(q.height/2-(e.top+d.height/2))+"px,0) scale3d("+f+","+f+",1)",a.style.transform="translate3d("+Number(q.width/2-(e.left+d.width/2))+"px,"+Number(q.height/2-(e.top+d.height/2))+"px,0) scale3d("+f+","+f+",1)"}function h(a){var b=items[x],c=b.querySelector(".slide__mover"),d=b.querySelector(".slide__title");x="right"===a?x<itemsTotal-1?x+1:0:x>0?x-1:itemsTotal-1;var e=items[x],f=e.querySelector(".slide__mover"),g=e.querySelector(".slide__title");dynamics.animate(c,{opacity:0,translateX:"right"===a?-1*c.offsetWidth/2:c.offsetWidth/2,rotateZ:"right"===a?-10:10},{type:dynamics.spring,duration:2e3,friction:600,complete:function(){dynamics.css(b,{opacity:0,visibility:"hidden"})}}),dynamics.animate(d,{translateX:"right"===a?-250:250,opacity:0},{type:dynamics.bezier,points:[{x:0,y:0,cp:[{x:.2,y:1}]},{x:1,y:1,cp:[{x:.3,y:1}]}],duration:450}),dynamics.css(e,{opacity:1,visibility:"visible"}),dynamics.css(f,{opacity:0,translateX:"right"===a?f.offsetWidth/2:-1*f.offsetWidth/2,rotateZ:"right"===a?10:-10}),dynamics.animate(f,{opacity:1,translateX:0},{type:dynamics.spring,duration:2e3,friction:600,complete:function(){items.forEach(function(a){classie.remove(a,"slide--current")}),classie.add(e,"slide--current")}}),dynamics.css(g,{translateX:"right"===a?250:-250,opacity:0}),dynamics.animate(g,{translateX:0,opacity:1},{type:dynamics.bezier,points:[{x:0,y:0,cp:[{x:.2,y:1}]},{x:1,y:1,cp:[{x:.3,y:1}]}],duration:650})}function i(){r||(r=!0,j=s.scrollLeft,k=s.scrollTop),s.scrollTop=k,s.scrollLeft=j}var j,k,l=document.body,m=(a.document.documentElement,{transitions:Modernizr.csstransitions}),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},o=n[Modernizr.prefixed("transition")],p=function(a,b){var c=function(a){if(m.transitions){if(a.target!=this)return;this.removeEventListener(o,c)}b&&"function"==typeof b&&b.call(this)};m.transitions?a.addEventListener(o,c):c()},q={width:a.innerWidth,height:a.innerHeight},r=!1,s=document.querySelector(".container"),t=document.querySelector(".slider"),u=t.querySelector(".button--zoom, .zoomer"),v=document.querySelector(".content"),w=v.querySelector("button.button--close"),x=0,y=!1,z="undefined"!=typeof InstallTrigger,A=z?!1:3;c()}(window);